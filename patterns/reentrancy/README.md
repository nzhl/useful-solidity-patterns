# å¯é‡å…¥æ€§

- [ğŸ“œ ç¤ºä¾‹ä»£ç ](./AppleDAO.sol)
- [ğŸ æµ‹è¯•](../../test/AppleDAO.t.sol)

å‡ ä¹æ‰€æœ‰çš„åˆçº¦éƒ½ä¼šæˆ–å¤šæˆ–å°‘åœ°ä»¥æŸç§ç›´æ¥æˆ–é—´æ¥å½¢å¼å‘å¤–éƒ¨è°ƒç”¨å‡½æ•°ï¼Œæ‰€è¢«è°ƒç”¨çš„åˆçº¦æœ‰å¯èƒ½æ˜¯ä¸å¯ä¿¡ï¼Œä¸å¯æ§çš„ã€‚æ¯å½“å¤–éƒ¨è°ƒç”¨å‘ç”Ÿæ—¶ï¼Œä»£ç æ‰§è¡Œçš„æ§åˆ¶æƒå°±è¢«ç§»äº¤ç»™å¤–éƒ¨åˆçº¦ã€‚åœ¨ä»¥å¤ªåŠåˆçº¦é‡Œä¸å­˜åœ¨å¹¶è¡Œå¤„ç†çš„æ¦‚å¿µï¼Œæ‰€ä»¥æ¯å½“è‡ªèº«çš„æ‰§è¡Œå°šæœªå®Œæˆæ—¶æ§åˆ¶æƒè¢«äº¤å‡ºï¼Œé‚£ä¹ˆåˆçº¦éƒ½ä¼šç­‰å¾…å¤–éƒ¨å‡½æ•°è¿”å›åå†ç»§ç»­è‡ªèº«ä»£ç çš„æ‰§è¡Œï¼Œè¿™æ ·å°±å‘è‘—åçš„é‡å…¥æ”»å‡»å¤§å¼€æ–¹ä¾¿ä¹‹é—¨ã€‚

External calls can come in the obvious form of a simple call to a function on a contract, the less obvious transfer of ETH to an address (which is just an empty call), deploying a contract, or the transfer of tokens with a callback or hook mechanism (such as ERC777 and ERC721).

## è‹¹æœå…¨éƒ¨éƒ½è¢«å·èµ°

å‡è®¾ä½ çš„åˆçº¦å°±æ˜¯Aliceï¼ŒèŒèƒ½å°±æ˜¯ç»™äººä»¬å‘è‹¹æœï¼Œæ¯äººåªç»™å‘ä¸€ä¸ªã€‚ä½†æ˜¯Aliceçš„è®°å¿†åƒé‡‘é±¼ä¸€æ ·å·®ï¼Œå¿…é¡»è¦å°†æ‰€æœ‰äº‹æƒ…å†™ä¸‹æ¥æ‰èƒ½å¤Ÿè®°ä½ã€‚é‚£ä¹ˆï¼Œç°åœ¨è´ªå¿ƒçš„Bobè¿‡æ¥äº†ï¼Œä»–å…¶å®æƒ³è¦*2ä¸ªè‹¹æœ*! ä»–è¯¥æ€ä¹ˆæ„šå¼„Aliceæ¥å¾—åˆ°2ä¸ªè‹¹æœå‘¢ï¼Ÿ

1. Bobç®¡Aliceè¦1ä¸ªè‹¹æœã€‚
2. AliceæŸ¥å¥¹çš„è´¦æœ¬çœ‹ä¹‹å‰æ˜¯å¦å·²ç»ç»™è¿‡Bob1ä¸ªè‹¹æœï¼Œè´¦æœ¬ä¸Šæ²¡æœ‰å†™ï¼Œäºæ˜¯å¥¹ç»™Bob1ä¸ªè‹¹æœã€‚
    1. åœ¨AliceæŠŠè¿™1ä¸ªè‹¹æœè®°è´¦*ä¹‹å‰*ï¼ŒBobç«‹å³åˆç®¡Aliceè¦1ä¸ªè‹¹æœã€‚
    2. Aliceä½å¤´çœ‹è´¦æœ¬ï¼Œè´¦æœ¬ä¸Šæ²¡æœ‰å†™å¥¹ä»¥å‰ç»™è¿‡Bobè‹¹æœï¼Œäºæ˜¯å¥¹åˆç»™Bob1ä¸ªè‹¹æœã€‚
    3. ç°åœ¨Aliceåœ¨è´¦æœ¬ä¸Šè®°ä¸‹å·²ç»ç»™äº†Bob1ä¸ªè‹¹æœã€‚
3. ç°åœ¨Aliceï¼ˆåˆï¼‰åœ¨è´¦æœ¬ä¸Šè®°ä¸‹å·²ç»ç»™äº†Bob1ä¸ªè‹¹æœã€‚

è¿›ä¸€æ­¥æƒ³ï¼Œå¦‚æœBobæƒ³è¦æ‹¿èµ°Aliceæ‰€æœ‰çš„è‹¹æœï¼Œä»–ä»…ä»…éœ€è¦å°†è‡ªå·±çš„è¯·æ±‚æ— é™åµŒå¥—ï¼Œåœ¨Aliceæœ‰æœºä¼šè¿›è¡Œè®°è´¦ä¹‹å‰å°±å…ˆæŠŠå¥¹çš„è‹¹æœéƒ½å·è·‘äº†ã€‚è¿™æ­£æ˜¯é‚£æ¬¡è‡­åæ˜­è‘—çš„[DAO hack](https://www.immunebytes.com/blog/an-insight-into-the-dao-attack/)çš„æ“ä½œæ‰‹æ³•ã€‚

å°†Aliceå’ŒBobçš„è§’è‰²æ”¾åœ¨Solidityå†™æˆçš„æ™ºèƒ½åˆçº¦é‡Œä»–ä»¬çœ‹èµ·æ¥ä¼šæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿå‡è®¾é‚£äº›è‹¹æœå°±æ˜¯ERC721 NFTsï¼Œç”±Aliceè´Ÿè´£é“¸å¸ã€‚

```solidity
contract Apples is ERC721("Apples") { /* ... */ }

contract Alice {
    Apples public immutable APPLES = new Apples();
    mapping (address => boolean) _hasReceivedApple;

    function claimApple() external {
        require(!_hasReceivedApple[msg.sender]);
        // safeMint() è°ƒç”¨æ¥æ”¶æ–¹çš„onERC721Received() å¤„ç†å‡½æ•°ã€‚
        APPLES.safeMint(msg.sender);
        _hasReceivedApple[msg.sender] = true;
    }
}

contract Bob {
    function exploit(Alice alice) external {
        _claim(alice);
    }

    function onERC721Received(address operator, address, uint256, bytes calldata) external {
        _claim(Alice(operator));
        return this.onERC721Received.selector;
    }

    function _claim(Alice alice) private {
        // ç­‰æˆ‘ä»¬æœ‰äº†100ä¸ªè‹¹æœä¹‹åå°±ä¸ç»§ç»­ç®¡Aliceè¦äº†ã€‚
        if (alice.APPLES().balanceOf(address(this)) < 100) {
            alice.claimApple();
        }    
    }
}

```

*âš ï¸ è¯·æ³¨æ„ä¸Šé¢ä»…ä»…æ˜¯ä¸€ç§éå¸¸ç®€åŒ–çš„é‡å…¥æ”»å‡»çš„å®ç°çš„ä¾‹å­ã€‚å®é™…ä¸Šé‡å…¥æ”»å‡»å¯ä»¥æœ‰å¤šç§å¾ˆä¸åŒçš„å®ç°æ–¹å¼ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šç”¨åˆ°ä¸€äº›ä¸­é—´èµ·æ¡¥æ¥ä½œç”¨çš„åˆçº¦/è§’è‰²ã€‚è¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦é‚£å°±æ˜¯ï¼Œé‡å…¥æ”»å‡»é€šå¸¸æ˜¯é’ˆå¯¹æŸä¸€å•ä¸ªåˆçº¦è€Œè¨€ï¼Œä½†ä¹Ÿæœ‰çš„æƒ…å†µä¸‹å®ƒæ˜¯åœ¨æ•´ä¸ªåè®®å±‚é¢ä¸Šèµ·ä½œç”¨å¦‚æœå®ƒçš„æ“ä½œæ˜¯è·¨å¤šä¸ªåˆçº¦ï¼ˆç”šè‡³è·¨å¤šä¸ªåè®®ï¼‰çš„è¯ã€‚é‡å…¥æ”»å‡»ä¹Ÿå¯ä»¥ï¼ˆå¸¸å¸¸ä¹Ÿæ˜¯ï¼‰å»è¿å¸¦æ”»å‡»å¤šä¸ªä¸åŒçš„å‡½æ•°ï¼Œå¦‚æœè¿™äº›å‡½æ•°éƒ½å…±åŒä¾èµ–æŸäº›çŠ¶æ€å˜é‡çš„è¯ã€‚*

## ä¿æŠ¤ä½ çš„è‹¹æœ

è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬åº”è¯¥æ€æ ·é€šè¿‡ä¸¤ç§ä¸åŒä½†éƒ½æ˜¯å¸¸è§çš„é˜²å¾¡æœºåˆ¶/æ¨¡å¼æ¥ä¿è¯Aliceä¸è¢«æ¶æ„åˆ©ç”¨ã€‚

### â€œå…ˆæ£€æŸ¥-å†æ›´æ–°çŠ¶æ€-æœ€åäº¤äº’â€çš„æ¨¡å¼
â€œå…ˆæ£€æŸ¥-å†æ›´æ–°çŠ¶æ€-æœ€åäº¤äº’â€çš„æ¨¡å¼ï¼ˆç®€ç§°â€œCEIâ€æ¨¡å¼ï¼‰ç®—æ˜¯ä¸ªé¡ºå£æºœï¼Œæ¥è¡¨è¾¾ä¸€ç§å¯¹åˆçº¦ä»£ç é€»è¾‘çš„è®¾è®¡æ¥å‡å°‘è¢«é‡å…¥æ”»å‡»çš„é£é™©ã€‚å®ƒè¿˜èƒ½å¸¦æ¥å¦ä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œå°±æ˜¯èƒ½è®©ä½ çš„ä»£ç æ›´æ˜“æ‡‚ï¼Œæ‰€ä»¥æ— è®ºä½ è®¤ä¸ºé‡å…¥æ”»å‡»å¯¹ä½ çš„åˆçº¦æœ‰æˆ–æ²¡æœ‰å½±å“ä½ éƒ½åº”è¯¥è€ƒè™‘é‡‡ç”¨è¿™ä¸ªæ¨¡å¼æ¥å†™ä»£ç ã€‚è¿™ä¸ªæ¨¡å¼å¯ä»¥è¯´æ˜¯éƒ½åµŒåœ¨å¤§å¤šæ•°èµ„æ·±solidityç å†œçš„éª¨å­é‡Œäº†ï¼Œå†™è¿™ç§é£æ ¼çš„ä»£ç å°±åƒæ˜¯æ¡ä»¶åå°„ä¸€æ ·è‡ªç„¶ã€‚

æ­¤æ¨¡å¼é‡‡ç”¨é€»è¾‘é¡ºåºå¦‚ä¸‹:

1. **æ£€æŸ¥**: æ£€éªŒå‡½æ•°æˆ–æ“ä½œçš„è¾“å…¥å˜é‡ï¼Œå‡†å…¥æƒé™è¿˜æœ‰åˆå§‹çŠ¶æ€ã€‚
2. **æ›´æ–°çŠ¶æ€**: åœ¨å¿ƒé‡Œå…ˆè¿‡ä¸€éäº¤äº’é€»è¾‘ï¼Œç„¶åæŠŠé¢„è®¡ä¼šäº§ç”Ÿçš„çŠ¶æ€å˜åŒ–å…ˆä½œä¸ºç»“æœåœ¨è´¦æœ¬ä¸­è®°å½•ä¸‹æ¥ã€‚
3. **äº¤äº’**: åœ¨è¿™ä¸€æ­¥å†å»çœŸæ­£è°ƒç”¨å¤–éƒ¨å‡½æ•°åšäº¤äº’ï¼Œè½¬ç§»èµ„äº§ç­‰ç­‰ã€‚

å› ä¸ºè°ƒç”¨å¤–éƒ¨å‡½æ•°æ˜¯ä½ çš„æ‰§è¡Œé€»è¾‘é‡Œçš„æœ€åä¸€æ­¥ï¼Œä½ çš„ä»£ç æ‰§è¡Œå°±ä¸ä¼šå¡åœ¨ä¸€ä¸ªæœªå®Œæˆçš„çŠ¶æ€ä¸­è€Œå…ˆå°†æ‰§è¡Œæƒç§»äº¤å‡ºå»äº†ã€‚

å†æ¥çœ‹Aliceçš„ä¾‹å­ï¼Œå¥¹çš„æ‰§è¡Œé€»è¾‘é‡Œè¿™ä¸‰æ­¥éƒ½æœ‰ï¼Œä½†æ˜¯é¡ºåºé”™äº†ã€‚å¥¹åšçš„æ˜¯â€œæ£€æŸ¥-äº¤äº’-æ›´æ–°çŠ¶æ€â€ï¼Œè€Œéâ€œæ£€æŸ¥-æ›´æ–°çŠ¶æ€-äº¤äº’â€ã€‚è‹¥æ˜¯æŠŠé¡ºåºçº æ­£è¿‡æ¥ï¼Œå¥¹å°±ä¸ä¼šæš´éœ²äºé‡å…¥æ”»å‡»é£é™©ä¹‹ä¸‹äº†ï¼Œå› ä¸ºå¥¹ä¼šåœ¨Bobæœ‰æœºä¼šé‡å¤æå‡ºè¦æ±‚ä¹‹å‰å…ˆå°†â€œBobå·²æ”¶åˆ°1ä¸ªè‹¹æœâ€çš„ç»“æœè®°å…¥è´¦ä¸­ã€‚

```solidity
contract Alice {
    ...
    function claimApple() external {
        // æ£€æŸ¥: Bobè¿˜æ²¡æ”¶åˆ°è¿‡è‹¹æœã€‚
        require(!_hasReceivedApple[msg.sender]);
        // æ›´æ”¹çŠ¶æ€: Bobå·²ç»è¦è¿‡äº†1ä¸ªè‹¹æœã€‚
        _hasReceivedApple[msg.sender] = true;
        // äº¤äº’: ç»™Bob1ä¸ªè‹¹æœã€‚
        APPLES.safeMint(msg.sender);
    }
}

```

### é‡å…¥å®ˆå« (äº’æ–¥é”)
æœ‰æ—¶å€™ä½ æ²¡æ³•å°†ä½ çš„é€»è¾‘çœŸçš„å»å†™æˆâ€œCEIâ€çš„é¡ºåºã€‚å› ä¸ºæœ‰å¯èƒ½ä½ éœ€è¦ä¾èµ–ä¸€ä¸ªå¤–éƒ¨çš„äº¤äº’çš„è¾“å‡ºå€¼æ¥è®¡ç®—ä¸€äº›å˜é‡çš„æœ€ç»ˆçŠ¶æ€ä¼šæ˜¯ä»€ä¹ˆï¼Œè¿™ç§æƒ…å†µä½ æ— æ³•æå‰é¢„çŸ¥æˆ–ç‹¬è‡ªè®¡ç®—å‡ºæœ€ç»ˆçŠ¶æ€ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ”¹æˆä½¿ç”¨é‡å…¥å®ˆå«æ¥é˜²æ­¢é‡å…¥æ”»å‡»ã€‚

é‡å…¥å®ˆå«å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªä¸´æ—¶çš„çŠ¶æ€å˜é‡ï¼Œå®ƒä»£è¡¨äº†æŸä¸€ä¸ªæ“ä½œæ­£åœ¨è¿›è¡Œä¸­ï¼Œåƒå¼€å…³çš„æŒ‡ç¤ºç¯ä¸€æ ·ï¼Œå½“ç¯äº®çš„æ—¶æ®µå†…ï¼Œä¸è¿™ä¸ªè¿›è¡Œä¸­çš„æ“ä½œæ‰€äº’æ–¥çš„å…¶ä»–æ“ä½œï¼ˆæˆ–è€…é‡å¯è‡ªèº«æ“ä½œï¼‰æ˜¯ä¸å…è®¸è¢«æ‰§è¡Œçš„ï¼Œç›´åˆ°é‚£ä¸€ä¸ªæ“ä½œå®Œæˆï¼Œç¯ç­ï¼Œæ–¹å¯è¿›è¡Œå…¶ä»–ã€‚å¾ˆå¤šåˆçº¦é‡‡ç”¨ä¸€ä¸ªä¸“ç”¨çš„é“¾ä¸ŠçŠ¶æ€å˜é‡å……å½“è¿™ä¸ªäº’æ–¥é”è§’è‰²(æŸ¥çœ‹è¿™é‡Œ [standard OpenZeppelin implementation](https://docs.openzeppelin.com/contracts/4.x/api/security#ReentrancyGuard))ï¼Œå¹¶å°†å®ƒé€‚ç”¨äºä»»ä½•å¯èƒ½æš´éœ²äºé£é™©ä¸­çš„å‡½æ•°å†…ã€‚é‡å…¥å®ˆå«å¸¸å¸¸è¢«å†™æˆä¸€ä¸ªä¿®é¥°å‡½æ•°ï¼Œå®ƒå…ˆæ£€éªŒæ ‡è®°çŠ¶æ€ï¼ˆç¯æ˜¯å¦æ˜¯ç­çš„ï¼‰ï¼Œç„¶åä¿®æ”¹æ ‡è®°çŠ¶æ€ï¼ˆå¼€ç¯ï¼‰ï¼Œæ‰§è¡Œé¢„è®¾çš„ä»£ç é€»è¾‘ï¼Œæœ€åé‡ç½®æ ‡è®°çŠ¶æ€ï¼ˆå…³ç¯ï¼‰ã€‚

å¦‚æœAliceæœ‰äº†é‡å…¥å®ˆå«å°±ä¼šå˜æˆå¦‚ä¸‹è¿™æ ·ï¼š


```solidity
contract Alice {
    ...
    bool private _reentrancyGuard;

    modifier nonReentrant() {
        require(!_reentrancyGuard);
        _reentrancyGuard = true;
        _;
        _reentrancyGuard = false;
    }

    // è¿˜æ˜¯æ—§ä¾‹å­ä¸­çš„æœ‰æ¼æ´çš„ä»£ç æ²¡æœ‰æ”¹ï¼Œä½†æ˜¯è¿™æ¬¡åŠ ä¸Šäº†é‡å…¥å®ˆå«ã€‚
    function claimApple() external nonReentrant {
        require(!_hasReceivedApple[msg.sender]);
        APPLES.safeMint(msg.sender);
        _hasReceivedApple[msg.sender] = true;

    }
}
```

ç°åœ¨å¦‚æœBobæƒ³è¦åˆ©ç”¨åµŒå¥—çš„æ‰‹æ®µæ¥åœ¨Aliceçš„æ‰§è¡Œå°šæœªå®Œæˆä¹‹å‰é‡å¤è°ƒç”¨ `claimApple()`ï¼Œé‚£ä¸ªä¿®é¥°å‡½æ•°å°±ä¼šçœ‹åˆ°é‡å…¥å®ˆå«æ˜¯æ´»è·ƒçŠ¶æ€ï¼ˆç¯æ˜¯äº®çš„ï¼‰ï¼Œè¿™ä¸ªè°ƒç”¨å°±ä¼šè¢«é€†è½¬ã€‚

é‡‡ç”¨é‡å…¥å®ˆå«çš„æ–¹æ³•æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œä¸ç”¨å¤ªè´¹è„‘ç­‹å°±å¯å®ç°ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯ä¸ªå¾ˆæµè¡Œçš„æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œå®ƒä¹Ÿå¸¦æ¥ä¸€äº›é¡¾è™‘ã€‚

- é‡å…¥å®ˆå«æ˜¯ä¸€ä¸ªè‡ªå·±å æœ‰å‚¨å­˜ç©ºé—´çš„é“¾ä¸ŠçŠ¶æ€å˜é‡ã€‚å‘é“¾ä¸Šçš„å‚¨å­˜ç©ºé—´è¿›è¡Œå†™å…¥æ“ä½œæ˜¯è¦èŠ±è´¹gasçš„ï¼Œå°¤å…¶æ˜¯å‘ä¸€ä¸ªæ–°çš„ç©ºé—´å†™å…¥æ›´è´µã€‚å°½ç®¡å¤§éƒ¨åˆ†è´¹ç”¨å¯è¢«é€€å›ï¼Œå› ä¸ºä¿®é¥°å‡½æ•°ä¼šå°†é‚£ä¸ªç©ºé—´å†…çš„å€¼é‡ç½®å›åŸå€¼ï¼Œå®ƒä¹Ÿæ˜¯ä¼šå¯¼è‡´gasä¸Šé™çš„ä¼°ç®—å¢åŠ ï¼Œç”¨æˆ·å¯èƒ½ä¼šæ„Ÿåˆ°æ„å¤–ã€‚
    - æœ‰æ—¶å€™ä½ å¯ä»¥é¿å…ä½¿ç”¨ä¸€ä¸ªä¸“ç”¨çš„é“¾ä¸ŠçŠ¶æ€å˜é‡æ¥å……å½“é‡å…¥å®ˆå«ã€‚ä½ å¯ä»¥å»å¾ªç¯åˆ©ç”¨æŸä¸ªçŠ¶æ€å˜é‡ï¼Œè¿™ä¸ªçŠ¶æ€å˜é‡åº”æ˜¯é‚£ç§åœ¨è¿™ä¸ªæ“ä½œä¸­æ³¨å®šè¦è¢«ä¿®æ”¹çŠ¶æ€çš„é‚£ç§ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å…ˆæ£€æŸ¥å®ƒï¼Œç„¶åæŠŠå®ƒä¿®æ”¹æˆä¸€ä¸ªé¢„è®¾çš„ä»£è¡¨ç€æ— æ•ˆçŠ¶æ€çš„å€¼ï¼ˆç­‰åŒäºç¯äº®ï¼‰ï¼Œç„¶åæ‰§è¡Œé€»è¾‘ï¼Œåœ¨æœ€åå†æŠŠå®ƒçš„å€¼æ”¹æˆé€»è¾‘å®Œæˆä¹‹åå®ƒåº”å½“æˆä¸ºçš„ç»“æœå€¼ã€‚è¿™è¿‡ç¨‹ä¸­å®ƒæ‰€èµ·çš„é˜²å«æ•ˆæœè·Ÿä¸“ç”¨çš„é‡å…¥å®ˆå«æ˜¯ç±»ä¼¼çš„ã€‚
- é‡å…¥å®ˆå«çš„è¿™ç§æœ´ç´ çš„å®ç°æ–¹æ³•æ˜¯åªèƒ½åœ¨å•ä¸€åˆçº¦ä¸­èµ·ä½œç”¨çš„ã€‚å¦‚æœä¸€ä¸ªå¤åˆå‹çš„åè®®æ˜¯è·¨è¶Šå¤šä¸ªåˆçº¦çš„ï¼Œå¹¶ä¸”åœ¨è¿™äº›åˆçº¦ä¸­æœ‰äº›æ“ä½œæ˜¯éœ€è¦äº’æ–¥çš„ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªæƒ…å†µä¸‹ä½ å°±éœ€è¦æƒ³ä¸€ä¸ªåŠæ³•æ¥è®©é‡å…¥å®ˆå«çš„çŠ¶æ€èƒ½è¢«ç³»ç»Ÿä¸­çš„å…¶ä»–åˆçº¦å…¨éƒ½èƒ½çœ‹åˆ°ã€‚

## ä¾‹å­
è¿™ä¸ª [ä¾‹å­](./AppleDAO.sol) æ˜¯ä¸Šè¿°æ‰€è®²çš„å…¨éƒ¨å†…å®¹å’Œè§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªå®Œæ•´çš„å®ç°æ–¹å¼ã€‚ä¸ºäº†ç®€çº¦çš„è¡¨è¾¾ï¼Œé‡‡ç”¨äº†ERC721ä»£å¸æ ‡å‡†çš„åˆ èŠ‚ç®€åŒ–ç‰ˆæœ¬ã€‚ä½ å¯ä»¥æŸ¥çœ‹è¿™äº› [æµ‹è¯•](.../../test/AppleDAO.t.sol) ä½¿ç”¨ `forge test -vvvv --match-path test/AppleDAO.t.sol` å‘½ä»¤è¡Œæ¥åŠ æ·±ç†è§£æ‰§è¡Œæµç¨‹ã€‚
